<div class='card'>  
    <figure class="entry-cover">
        <video id="yesterdayvideo" loop="" autoplay="" muted="">
            <source src="https://weather.lloyd.ws/static/img/webcam/video/latest-720.webm" type="video/webm">
        </video>
        <p>Time Lapse of the sky in Bishops Waltham yesterday.</p>
    </figure>
</div>
<table>
    <tr><th colspan="2">Live Weather Data</th></tr>
    <tr><th>Temperature</th><td><div id="temperature"></div></td></tr>
    <tr><th>Humidity</th><td><div id="humidity"> </div></td></tr>
    <tr><th>Wind Direction</th><td><div id="Wind_Direction"> </div></td></tr>
</table>



<script>
    async function fetchWeatherData() {
        try {
          const response = await fetch('https://weather.lloyd.ws/json');
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          const data = await response.json();
      
          // Update HTML elements (assuming you have elements with these IDs)
          document.getElementById('temperature').textContent = data.weather_Outdoor_Temperature.value + " " + data.weather_Outdoor_Temperature.unit;
          document.getElementById('Wind_Direction').textContent = data.weather_Wind_Direction.value + " " + data.weather_Wind_Direction.unit;
          document.getElementById('humidity').textContent = data.weather_Outdoor_Humidity.value + " " + data.weather_Outdoor_Humidity.unit;
        } catch (error) {
          console.error('Error fetching weather data:', error);
          // Display an error message to the user 
        }
      }
      
      // Initial fetch and periodic updates 
      fetchWeatherData();
      setInterval(fetchWeatherData, 30 * 1000);

</script>